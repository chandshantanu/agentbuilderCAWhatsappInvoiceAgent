import{r as l,s,z as g}from"./index-Bp_UmaCL.js";function j({config:a}){const[n,o]=l.useState({}),[d,i]=l.useState(!1),[x,y]=l.useState(!1),[m,p]=l.useState(null),b=a.fields||[],h=async e=>{var u,t,r;if(e.preventDefault(),!!a.submitEndpoint){i(!0),p(null);try{await g.post(a.submitEndpoint,n),y(!0),(u=a.onSuccess)==null||u.call(a)}catch(c){p(((r=(t=c==null?void 0:c.response)==null?void 0:t.data)==null?void 0:r.detail)||"Failed to save")}finally{i(!1)}}};return x?s.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 text-green-700 text-sm",children:"Configuration saved successfully."}):s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[b.map(e=>{var u;return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label,e.required&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.type==="textarea"?s.jsx("textarea",{value:n[e.key]||"",onChange:t=>o(r=>({...r,[e.key]:t.target.value})),placeholder:e.placeholder,required:e.required,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary/30"}):e.type==="select"?s.jsxs("select",{value:n[e.key]||"",onChange:t=>o(r=>({...r,[e.key]:t.target.value})),required:e.required,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary/30",children:[s.jsx("option",{value:"",children:"Select..."}),(u=e.options)==null?void 0:u.map(t=>s.jsx("option",{value:t.value,children:t.label},t.value))]}):s.jsx("input",{type:e.type||"text",value:n[e.key]||"",onChange:t=>o(r=>({...r,[e.key]:t.target.value})),placeholder:e.placeholder,required:e.required,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary/30"})]},e.key)}),m&&s.jsx("p",{className:"text-sm text-red-600",children:m}),s.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-primary text-white rounded-md text-sm font-medium hover:opacity-90 disabled:opacity-50",children:d?"Saving...":a.submitLabel||"Save"})]})}export{j as default};
