import{r as d,z as g,s as e,t as x,I as j,b as y,S as b,d as N,i as v}from"./index-Bp_UmaCL.js";import{C as m,a as u,b as p,c as F}from"./card-CF4LKrxb.js";import{S as w}from"./scroll-area-ftSbuGQS.js";import{S as c}from"./skeleton-C6b0Brwr.js";import{U as S}from"./user-plus-DmoQXLMI.js";function C(s){const i=Date.now()-new Date(s).getTime(),a=Math.floor(i/6e4);if(a<1)return"Just now";if(a<60)return`${a}m ago`;const r=Math.floor(a/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}const f={message:{icon:v,bg:"bg-[#EFF6FF]",text:"text-accent-blue"},payment:{icon:N,bg:"bg-[#F0FDF4]",text:"text-accent-green"},user:{icon:S,bg:"bg-[#FDF2F8]",text:"text-accent-rose"},config:{icon:b,bg:"bg-[#FFF7ED]",text:"text-accent-amber"},default:{icon:y,bg:"bg-surface-raised",text:"text-muted-foreground"}};function A(s){return f[s||""]||f.default}function E(){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[e.jsx("div",{className:"p-3 rounded-xl bg-surface-raised mb-3",children:e.jsx(j,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"No recent activity"}),e.jsx("p",{className:"text-xs text-muted-foreground max-w-[240px]",children:"Activity will appear here as your agent processes messages and events."})]})}function T({config:s}){const[i,a]=d.useState([]),[r,o]=d.useState(!0);return d.useEffect(()=>{if(!s.endpoint){o(!1);return}g.get(s.endpoint,{params:{limit:s.limit||20}}).then(t=>{var n;return a(((n=t.data)==null?void 0:n.data)||t.data||[])}).catch(t=>console.error("ActivityFeed fetch error:",t)).finally(()=>o(!1))},[s.endpoint,s.limit]),r?e.jsxs(m,{children:[e.jsx(u,{children:e.jsx(c,{className:"h-4 w-28"})}),e.jsx(p,{children:e.jsx("div",{className:"space-y-4",children:[0,1,2].map(t=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx(c,{className:"h-8 w-8 rounded-lg shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-1.5",children:[e.jsx(c,{className:"h-3 w-48"}),e.jsx(c,{className:"h-3 w-20"})]})]},t))})})]}):e.jsx(x.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.4,0,.2,1]},children:e.jsxs(m,{children:[e.jsx(u,{children:e.jsx(F,{className:"text-sm font-medium text-foreground",children:"Recent Activity"})}),e.jsx(p,{children:i.length===0?e.jsx(E,{}):e.jsx(w,{className:"max-h-[400px]",children:e.jsxs("div",{className:"relative pl-4",children:[e.jsx("div",{className:"absolute left-[15px] top-2 bottom-2 w-px bg-border"}),i.map((t,n)=>{const l=A(t.type),h=l.icon;return e.jsxs(x.div,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{duration:.3,delay:n*.05},className:"relative flex gap-3 pb-4 last:pb-0",children:[e.jsx("div",{className:`relative z-10 shrink-0 p-1.5 rounded-lg ${l.bg}`,children:e.jsx(h,{className:`h-3.5 w-3.5 ${l.text}`})}),e.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[e.jsx("p",{className:"text-sm text-foreground leading-snug",children:t.title}),t.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:t.description}),e.jsx("p",{className:"text-[11px] text-muted-foreground mt-1",children:C(t.timestamp)})]})]},t.id||n)})]})})})]})})}export{T as default};
